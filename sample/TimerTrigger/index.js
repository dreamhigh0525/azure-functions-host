var logger = require('./logger');

// demonstrates that a function can be a node module including
// multiple files
module.exports = function (context) {
    var timeStamp = new Date().toISOString();
    context.log('Node.js timer trigger function ran at ' + timeStamp);

    var message = {
        id: Math.floor(Math.random() * 10000) + 1,
        notes: "Generated by Timer function"
    };
    context.output({
        message: JSON.stringify(message)
    });

    logger.log(timeStamp, context.done);
}